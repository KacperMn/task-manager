{% load static %}

<header>
    <nav class="navbar">
        <!-- Left-aligned: Brand -->
        <div class="navbar-left">
            <div class="dropdown">
                <button class="dropdown-toggle">
                    <div class="profile-icon">
                        <!-- User initial or icon -->
                        {{ request.user.username.0|upper }}
                    </div>
                    <span class="dropdown-username">{{ request.user.username }}</span>
                </button>
                <div class="dropdown-menu">
                    <a href="{% url 'desks_list' %}">My Desks</a>
                    <a href="{% url 'user_profile' %}">Profile</a>
                    <form method="post" action="{% url 'logout' %}">
                        {% csrf_token %}
                        <button type="submit" class="dropdown-logout">Log Out</button>
                    </form>
                </div>
            </div>
        </div>
        <!-- Right-aligned: Navigation Links -->
        <div class="navbar-right">
            <!-- Desk-dependent links -->
            {% if desk %}
                <a href="{% url 'tasks_list' desk_slug=desk.slug %}" class="navbar-btn">Tasks</a>
                <a href="{% url 'tasks_manage' desk_slug=desk.slug %}" class="navbar-btn">Manage Tasks</a>
                <a href="{% url 'categories_manage' desk_slug=desk.slug %}" class="navbar-btn">Categories</a>
            {% endif %}
        </div>
    </nav>
</header>